<?xml version = "1.0" encoding = "utf-8"?>

<html>
	<head>
		<title> Drag and drop </title>
 		<link rel="stylesheet" type="text/css" href="./jigsaw.css" />
		<script type="text/javascript" src = "./jigsaw.js"></script>
		<script type="text/javascript">
			var imDirPaths, imageArray, imFileNames;

			function getImageNum(imStr) {
				var dotIdx = imStr.lastIndexOf(".");
				var imNum = imStr.charAt(dotIdx - 1);
				if(imNum == 0 || imNum == 1 || imNum == 2) {
					var tenPlace = imStr.charAt(dotIdx - 2);
					if(tenPlace == 1) {
						imNum = imNum + 10;
					}
				}
				return imNum;
			}	

			function getRandFileNames() {
				var randIdx = Math.random() * 3;
				randIdx = Math.floor(randIdx);
				var rplus = randIdx + 1;
				var randStr = rplus.toString();
				document.getElementById("testArea").innerHTML = "randIdx: " + randIdx + "<br>";
				var imString = new String();
				for(var i = 0; i < 12; ++i) {
					var iSt = new String((i + 1));
					imString = imDirPaths[randIdx];
					document.getElementById("testArea").innerHTML += imDirPaths[randIdx] + "<br>";
					imString += "img" + randStr + "-" + iSt + ".jpg";
					imFileNames[i] = imString;
				}
			}
		
			function createNewImage(imSrc) {
				var n = getImageNum(imSrc);
				var imId = "im_" + toString(n);
				var img = new Image();
				img.type = "image";
				img.id = imId;
				img.src = imSrc;
				return img;
			}
			
			function loadImages() {
				getRandFileNames();
				for(var i = 0; i < 12; ++i) {
					imageArray[i] = createNewImage(imFileNames[i]);
				}
			}

			function init() {
				imDirPaths = new Array(3);
				imDirPaths[0] = "./Images/images1/";
				imDirPaths[1] = "./Images/images2/";
				imDirPaths[2] = "./Images/images3/";
				
				imageArray = new Array(12);
				imFileNames = new Array(12);

				loadImages();
				for(var i = 0; i < 12; ++i) {
					document.getElementById("testArea").innerHTML += imFileNames[i] + "<br>";
				}
			}
		</script>
	</head>

	<body onload="init()">
		<p id="testArea">
			put stuff here
		</p><br>
		<p>
			Roses are red <br />
			Violets are blue <br />

			<span style = "position: absolute; top: 200px; left: 0px; background-color: lightgrey;" onmousedown = "grabber(event);"> candy </span>
			<span style = "position: absolute; top: 200px; left: 75px; background-color: lightgrey;" onmousedown = "grabber(event);"> cats </span>
			<span style = "position: absolute; top: 200px; left: 150px; background-color: lightgrey;" onmousedown = "grabber(event);"> cows </span>
			<span style = "position: absolute; top: 200px; left: 225px; background-color: lightgrey;" onmousedown = "grabber(event);"> glue </span>
			<span style = "position: absolute; top: 200px; left: 300px; background-color: lightgrey;" onmousedown = "grabber(event);"> is </span>
			<span style = "position: absolute; top: 200px; left: 375px; background-color: lightgrey;" onmousedown = "grabber(event);"> is </span>
			<span style = "position: absolute; top: 200px; left: 450px; background-color: lightgrey;" onmousedown = "grabber(event);"> meow </span>
			<span style = "position: absolute; top: 250px; left: 0px; background-color: lightgrey;" onmousedown = "grabber(event);"> mine </span>
			<span style = "position: absolute; top: 250px; left: 75px; background-color: lightgrey;" onmousedown = "grabber(event);"> moo </span>
			<span style = "position: absolute; top: 250px; left: 150px; background-color: lightgrey;" onmousedown = "grabber(event);"> new </span>
			<span style = "position: absolute; top: 250px; left: 225px; background-color: lightgrey;" onmousedown = "grabber(event);"> old </span>
			<span style = "position: absolute; top: 250px; left: 300px; background-color: lightgrey;" onmousedown = "grabber(event);"> say </span>
			<span style = "position: absolute; top: 250px; left: 375px; background-color: lightgrey;" onmousedown = "grabber(event);"> say </span> 
			<span style = "position: absolute; top: 250px; left: 450px; background-color: lightgrey;" onmousedown = "grabber(event);"> so </span>
			<span style = "position: absolute; top: 300px; left: 0px; background-color: lightgrey;" onmousedown = "grabber(event);"> sticky </span>
			<span style = "position: absolute; top: 300px; left: 75px;background-color: lightgrey;" onmousedown = "grabber(event);"> sweet </span>
			<span style = "position: absolute; top: 300px; left: 150px; background-color: lightgrey;" onmousedown = "grabber(event);"> syrup </span>
			<span style = "position: absolute; top: 300px; left: 225px; background-color: lightgrey;"  onmousedown = "grabber(event);"> too </span>
			<span style = "position: absolute; top: 300px; left: 300px; background-color: lightgrey;" onmousedown = "grabber(event);"> yours </span>
		</p>
	</body>
</html>
