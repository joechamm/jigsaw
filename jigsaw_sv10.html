<?xml version = "1.0" encoding = "utf-8"?>

<html>
	<head>
		<title> Drag and drop </title>
 		<link rel="stylesheet" type="text/css" href="./jigsaw.css" />
		<script type="text/javascript" src = "./jigsaw.js"></script>
		<script type="text/javascript">
			var im1Sources = ["./Images/images1/img1-1.jpg","./Images/images1/img1-2.jpg","./Images/images1/img1-3.jpg","./Images/images1/img1-4.jpg",
	"./Images/images1/img1-5.jpg","./Images/images1/img1-6.jpg","./Images/images1/img1-7.jpg","./Images/images1/img1-8.jpg","./Images/images1/img1-9.jpg",
	"./Images/images1/img1-10.jpg","./Images/images1/img1-11.jpg","./Images/images1/img1-12.jpg"];

 	var im2Sources = ["./Images/images2/img2-1.jpg","./Images/images2/img2-2.jpg","./Images/images2/img2-3.jpg","./Images/images2/img2-4.jpg",
  "./Images/images2/img2-5.jpg","./Images/images2/img2-6.jpg","./Images/images2/img2-7.jpg","./Images/images2/img2-8.jpg","./Images/images2/img2-9.jpg",
  "./Images/images2/img2-10.jpg","./Images/images2/img2-11.jpg","./Images/images2/img2-12.jpg"];

 var im3Sources = ["./Images/images3/img3-1.jpg","./Images/images3/img3-2.jpg","./Images/images3/img3-3.jpg","./Images/images3/img3-4.jpg",
  "./Images/images3/img3-5.jpg","./Images/images3/img3-6.jpg","./Images/images3/img3-7.jpg","./Images/images3/img3-8.jpg","./Images/images3/img3-9.jpg",
  "./Images/images3/img3-10.jpg","./Images/images3/img3-11.jpg","./Images/images3/img3-12.jpg"];

			function shuffleArray(myArray) {
				var tempArray = new Array();
				var indexArray = new Array();

				while(indexArray.length < 12) {
					var randIdx = Math.floor((Math.random() * 12));
					if(indexArray.indexOf(randIdx) == - 1) {
						indexArray.push(randIdx);
						tempArray.push(myArray[randIdx]);
					}
				}
				
				for(var i = 0; i < 12; ++i) {
					myArray[i] = tempArray[i];
				}
			}

			function initImages() {
				var randIm = Math.floor((Math.random() * 3) % 3);
				 if(randIm == 0) {
            shuffleArray(im1Sources);
          } else if(randIm == 1) {
            shuffleArray(im2Sources[i]);
          } else {
            shuffleArray(im3Sources[i]);
          }

        for(var i = 0; i < 12; ++i) {
					var imStr = '<IMG SRC="';

//          var img = new Image();
					if(randIm == 0) {
							imStr += im1Sources[i];
//						img.src = im1Sources[i];
					} else if(randIm == 1) {
							imStr += im2Sources[i];
//						img.src = im2Sources[i];
					} else {
							imStr += im3Sources[i];
//						img.src = im3Sources[i];
					}
					img.width = "100";
					img.height = "100";
					var row = getRowByIdx(i);
					var col = getColByIdx(i);
					var x = col * 100;
					var y = row * 100;
					img.style.top = y + "px";
					img.style.left = x + "px";
					img.style.position = "absolute";
					img.onmousedown = "grabber(event)";
					document.getElementById("puzzle_area").appendChild( img );
        
				}
      }

			function init() {
				initImages();
			}
		</script>
	</head>

	<body onload="init()">
		<h1>Jigsaw Puzzle</h1>
		<div id="puzzle_area" width="400" height="300">
			<img src="./Images/images1/puzzleback.gif" width="400" height="300" style="position:absolute; top:0px; left:0px;" />
		</div>
	</body>
</html>
